### [421. 数组中两个数的最大异或值](https://leetcode-cn.com/problems/maximum-xor-of-two-numbers-in-an-array/)

```java
class Solution {
    int[][] trie;
    int idx = 0;
    public int findMaximumXOR(int[] nums) {
        int n = nums.length;
        trie = new int[n * 31][2];
        int ans = 0;
        for (int i = 0; i < n; ++i) {
            int a = nums[i];
            insert(a);
            int b = query(a);
            ans = Math.max(ans, a ^ b);
        }
        return ans;
    }

    public int query(int x) {
        int p = 0, ans = 0;
        for (int i = 30; i >= 0; --i) {
            int v = x >> i & 1;
            if (trie[p][v ^ 1] != 0) {
                ans = ans * 2 + v ^ 1;
                p = trie[p][v ^ 1];
            } else {
                ans = ans * 2 + v;
                p = trie[p][v];
            }
        }
        return ans;
    }

    public void insert(int x) {
        int p = 0;
        for (int i = 30; i >= 0; --i) {
            int v = x >> i & 1;
            if (trie[p][v] == 0) trie[p][v] = ++idx;
            p = trie[p][v];
        }
    }
}
```

